# RDP 算法介绍
# 连接首尾两点，中间各点做该线段的垂直线（距离）
# 比较最大距离与阈值的关系
# 若最大距离大于阈值 保留该点，以该点为端点，与首尾端点分别连接，
# 直至两端点之间的点到直线的最大距离小于阈值或者只剩下首尾两点结束

# 先挑选出距离最远的点，该点对图形的影响最大 当距离小于阈值，说明对形状的影响并不是很大
# 重要性排序 
# 首先选择出最大距离点 再连接该点与首点 排序其中的点
# 后 连接该点与尾点 排序其中的点

'''
    算法思路：
        将所有的点存放在数组中，【1、2、3、4、5、...、n】
        新建两个栈 
        A 存放此时的首点（pointstr）-》此时A栈的栈顶为首点
        B 存放此时的尾点（pointend）-》此时B栈的栈顶为尾点
        根据此时的首尾点连线，求出当前各点到该直线的距离，
        保留最大距离 与产生该距离的点的index
        如果该距离大于阈值，：
            将该点的索引压入B栈中，成为B栈的栈顶。
            再进行上述操作。
        如果该距离小于阈值：
            将B栈的首点压入A栈中，此时A栈的点，即为优化后的点集
        最后 根据A栈 将对应的点 取出 放入数组中（最终结果）
'''


from math import sqrt, pow

# 定义 栈 数据结构   提供功能：入栈、出栈、读取栈top值、判断栈是否为空。
class Stack(object):
    def __init__(self):
        # 创建空列表实现栈
        self.__list = []

    def is_empty(self):
        # 判断是否为空
        return self.__list == []

    def push(self, item):
        # 压栈，添加元素
        self.__list.append(item)

    def pop(self):
        # 弹栈，弹出最后压入栈的元素
        if self.is_empty():
            return
        else:
            return self.__list.pop()

    def top(self):
        # 取最后压入栈的元素
        if self.is_empty():
            return
        else:
            return self.__list[-1]


# 计算点线距
def point2LineDistance(point, pointStr, pointEnd):
    if pointStr[0] == pointEnd[0]:
        return 9999999
    # k 斜率
    slope = (pointStr[1] - pointEnd[1]) / (pointStr[0] - pointEnd[0])
    # 插值 b
    intercept = pointStr[1] - slope * pointStr[0]
    # 计算距离 kx - y + b = 0     分子 = kx - y + b    =>  slope * point[0] - point[1] + intercept
    #                            分母 = sqrt（k**2 + 1）   =>     sqrt(1 + pow(slope, 2))
    distance = abs(slope * point[0] - point[1] + intercept) / sqrt(1 + pow(slope, 2))
    return distance


# 计算最大距离  并返回索引（目标点）
def findMaxdistance(Points, pointStrindex, pointEndindex):
    index = 0  # 最大距离的索引
    maxDis = 0  # 最大距离
    Maxdistance = []  # 构建数组  第一个值为索引 第二个值为距离
    if len(Points) <= 1:
        return 0
    for i in range(pointStrindex + 1, pointEndindex):
        dis = point2LineDistance(Points[i], Points[pointStrindex], Points[pointEndindex])
        if dis > maxDis:
            maxDis = dis
            index = i
    Maxdistance.append(index)
    Maxdistance.append(maxDis)
    return Maxdistance


# 道格拉斯-普克 Ramer-Douglas-Peucker 算法 非递归
def RDP(Points, threshold):
    RDPFinout = []
    if len(Points) <= 1:
        RDPFinout = Points
        return RDPFinout
    # 读的数组的长度
    IndexsFin = len(Points)
    # 创建两个数组记录索引
    A = Stack()
    B = Stack()
    Maxindex = IndexsFin - 1
    # 将首位两个点坐标入栈
    A.push(0)
    B.push(Maxindex)
    #############
    while B.is_empty() == False:
        maxDistanceIndex = findMaxdistance(Points, A.top(), B.top())[0]
        maxDistance = findMaxdistance(Points, A.top(), B.top())[1]
        if maxDistance > threshold:
            B.push(maxDistanceIndex)
        else:
            A.push(B.pop())
    ###############
    while A.is_empty() == False:
        # print(A.top())
        RDPFinout.append(Points[A.pop()])
    return RDPFinout


if __name__ == '__main__':
    data = [
        [
            116.599629,
            34.014324
        ],
        [
            116.599629,
            34.014324
        ],
        [
            116.576223,
            34.068873
        ],
        [
            116.576223,
            34.068873
        ],
        [
            116.52818,
            34.122892
        ],
        [
            116.536187,
            34.151127
        ],
        [
            116.565752,
            34.16945
        ],
        [
            116.542962,
            34.203608
        ],
        [
            116.545426,
            34.241711
        ],
        [
            116.582382,
            34.266444
        ],
        [
            116.562056,
            34.285731
        ],
        [
            116.516477,
            34.296114
        ],
        [
            116.456731,
            34.268917
        ],
        [
            116.409303,
            34.273863
        ],
        [
            116.409303,
            34.273863
        ],
        [
            116.372347,
            34.26595
        ],
        [
            116.363724,
            34.316877
        ],
        [
            116.301514,
            34.342082
        ],
        [
            116.255934,
            34.376665
        ],
        [
            116.213435,
            34.382098
        ],
        [
            116.215898,
            34.403333
        ],
        [
            116.178942,
            34.430487
        ],
        [
            116.162312,
            34.459605
        ],
        [
            116.178326,
            34.496112
        ],
        [
            116.204196,
            34.508442
        ],
        [
            116.191261,
            34.535561
        ],
        [
            116.196804,
            34.575977
        ],
        [
            116.247927,
            34.551829
        ],
        [
            116.286116,
            34.608986
        ],
        [
            116.32492,
            34.601104
        ],
        [
            116.334159,
            34.620806
        ],
        [
            116.374195,
            34.640011
        ],
        [
            116.430245,
            34.650843
        ],
        [
            116.432709,
            34.630163
        ],
        [
            116.477057,
            34.614896
        ],
        [
            116.490607,
            34.573513
        ],
        [
            116.594085,
            34.511894
        ],
        [
            116.592237,
            34.493646
        ],
        [
            116.662454,
            34.472927
        ],
        [
            116.722816,
            34.472434
        ],
        [
            116.773939,
            34.453683
        ],
        [
            116.782563,
            34.429993
        ],
        [
            116.828142,
            34.389012
        ],
        [
            116.909446,
            34.408271
        ],
        [
            116.969192,
            34.389012
        ],
        [
            116.960569,
            34.363821
        ],
        [
            116.983359,
            34.348011
        ],
        [
            116.969192,
            34.283753
        ],
        [
            117.051112,
            34.221425
        ],
        [
            117.025243,
            34.167469
        ],
        [
            117.046801,
            34.151622
        ],
        [
            117.123793,
            34.128342
        ],
        [
            117.130568,
            34.101586
        ],
        [
            117.192162,
            34.068873
        ],
        [
            117.257452,
            34.065899
        ],
        [
            117.277162,
            34.078787
        ],
        [
            117.311654,
            34.067882
        ],
        [
            117.357234,
            34.088205
        ],
        [
            117.404045,
            34.03218
        ],
        [
            117.435458,
            34.028212
        ],
        [
            117.514914,
            34.060941
        ],
        [
            117.543248,
            34.038627
        ],
        [
            117.569117,
            33.985051
        ],
        [
            117.612849,
            34.000433
        ],
        [
            117.629479,
            34.028708
        ],
        [
            117.671363,
            33.992494
        ],
        [
            117.672595,
            33.934916
        ],
        [
            117.715095,
            33.879287
        ],
        [
            117.753899,
            33.891211
        ],
        [
            117.759442,
            33.874318
        ],
        [
            117.739732,
            33.758467
        ],
        [
            117.72495,
            33.74951
        ],
        [
            117.750203,
            33.710688
        ],
        [
            117.791471,
            33.733585
        ],
        [
            117.843826,
            33.736074
        ],
        [
            117.901724,
            33.720146
        ],
        [
            117.972557,
            33.74951
        ],
        [
            118.019985,
            33.738562
        ],
        [
            118.065564,
            33.76593
        ],
        [
            118.117919,
            33.766427
        ],
        [
            118.161035,
            33.735576
        ],
        [
            118.16781,
            33.663381
        ],
        [
            118.112376,
            33.617045
        ],
        [
            118.117919,
            33.594615
        ],
        [
            118.107448,
            33.475391
        ],
        [
            118.050782,
            33.491863
        ],
        [
            118.027376,
            33.455421
        ],
        [
            118.016905,
            33.402978
        ],
        [
            118.029224,
            33.374995
        ],
        [
            117.992883,
            33.333005
        ],
        [
            117.974405,
            33.279487
        ],
        [
            117.939297,
            33.262475
        ],
        [
            117.942376,
            33.224936
        ],
        [
            117.977485,
            33.226437
        ],
        [
            117.988572,
            33.180869
        ],
        [
            118.037231,
            33.152314
        ],
        [
            118.038463,
            33.134776
        ],
        [
            118.149332,
            33.169348
        ],
        [
            118.178281,
            33.217926
        ],
        [
            118.217085,
            33.191888
        ],
        [
            118.219549,
            33.114227
        ],
        [
            118.243571,
            33.027967
        ],
        [
            118.244803,
            32.998359
        ],
        [
            118.26944,
            32.969242
        ],
        [
            118.303933,
            32.96874
        ],
        [
            118.291614,
            32.946143
        ],
        [
            118.252194,
            32.936601
        ],
        [
            118.2331,
            32.914498
        ],
        [
            118.250346,
            32.848157
        ],
        [
            118.301469,
            32.846145
        ],
        [
            118.300237,
            32.783275
        ],
        [
            118.334114,
            32.761637
        ],
        [
            118.363063,
            32.770695
        ],
        [
            118.375382,
            32.718849
        ],
        [
            118.411106,
            32.715828
        ],
        [
            118.450526,
            32.743518
        ],
        [
            118.483787,
            32.721367
        ],
        [
            118.560163,
            32.729926
        ],
        [
            118.572482,
            32.719856
        ],
        [
            118.642699,
            32.744525
        ],
        [
            118.707373,
            32.72036
        ],
        [
            118.756648,
            32.737477
        ],
        [
            118.73817,
            32.772708
        ],
        [
            118.743097,
            32.853184
        ],
        [
            118.743097,
            32.853184
        ],
        [
            118.810235,
            32.853687
        ],
        [
            118.821322,
            32.920527
        ],
        [
            118.846575,
            32.922034
        ],
        [
            118.849039,
            32.956689
        ],
        [
            118.89585,
            32.957694
        ],
        [
            118.89585,
            32.957694
        ],
        [
            118.892771,
            32.941121
        ],
        [
            118.934039,
            32.93861
        ],
        [
            118.993169,
            32.958196
        ],
        [
            119.020886,
            32.955685
        ],
        [
            119.054763,
            32.8748
        ],
        [
            119.113277,
            32.823014
        ],
        [
            119.184726,
            32.825529
        ],
        [
            119.211827,
            32.708275
        ],
        [
            119.208748,
            32.641276
        ],
        [
            119.230921,
            32.607001
        ],
        [
            119.22045,
            32.576748
        ],
        [
            119.152697,
            32.557582
        ],
        [
            119.168096,
            32.536394
        ],
        [
            119.142226,
            32.499556
        ],
        [
            119.084944,
            32.452602
        ],
        [
            119.041212,
            32.515201
        ],
        [
            118.975923,
            32.505108
        ],
        [
            118.922336,
            32.557078
        ],
        [
            118.92172,
            32.557078
        ],
        [
            118.922336,
            32.557078
        ],
        [
            118.92172,
            32.557078
        ],
        [
            118.890923,
            32.553042
        ],
        [
            118.908169,
            32.59238
        ],
        [
            118.84288,
            32.56767
        ],
        [
            118.820706,
            32.60448
        ],
        [
            118.784981,
            32.582295
        ],
        [
            118.757264,
            32.603976
        ],
        [
            118.73509,
            32.58885
        ],
        [
            118.719076,
            32.614059
        ],
        [
            118.719076,
            32.614059
        ],
        [
            118.688895,
            32.588346
        ],
        [
            118.658714,
            32.594397
        ],
        [
            118.632844,
            32.578261
        ],
        [
            118.59712,
            32.600951
        ],
        [
            118.568787,
            32.585825
        ],
        [
            118.564475,
            32.562122
        ],
        [
            118.608823,
            32.536899
        ],
        [
            118.592192,
            32.481383
        ],
        [
            118.628533,
            32.467751
        ],
        [
            118.691359,
            32.472295
        ],
        [
            118.685199,
            32.403604
        ],
        [
            118.703061,
            32.328792
        ],
        [
            118.657482,
            32.30148
        ],
        [
            118.674728,
            32.250375
        ],
        [
            118.643931,
            32.209875
        ],
        [
            118.510888,
            32.194176
        ],
        [
            118.49549,
            32.165304
        ],
        [
            118.501033,
            32.121726
        ],
        [
            118.433896,
            32.086746
        ],
        [
            118.394476,
            32.076098
        ],
        [
            118.389548,
            31.985281
        ],
        [
            118.363679,
            31.930443
        ],
        [
            118.472084,
            31.879639
        ],
        [
            118.466541,
            31.857784
        ],
        [
            118.504729,
            31.841516
        ],
        [
            118.481939,
            31.778453
        ],
        [
            118.533678,
            31.76726
        ],
        [
            118.521975,
            31.743343
        ],
        [
            118.5577,
            31.73011
        ],
        [
            118.571866,
            31.746397
        ],
        [
            118.641467,
            31.75861
        ],
        [
            118.653786,
            31.73011
        ],
        [
            118.697518,
            31.709747
        ],
        [
            118.643315,
            31.671555
        ],
        [
            118.643315,
            31.649651
        ],
        [
            118.736322,
            31.633347
        ],
        [
            118.748025,
            31.675629
        ],
        [
            118.773894,
            31.682759
        ],
        [
            118.802844,
            31.619078
        ],
        [
            118.858894,
            31.623665
        ],
        [
            118.881684,
            31.564023
        ],
        [
            118.885995,
            31.519139
        ],
        [
            118.868133,
            31.520669
        ],
        [
            118.857046,
            31.506384
        ],
        [
            118.883532,
            31.500261
        ],
        [
            118.852119,
            31.393553
        ],
        [
            118.824401,
            31.375672
        ],
        [
            118.767735,
            31.363919
        ],
        [
            118.745561,
            31.372606
        ],
        [
            118.720924,
            31.322518
        ],
        [
            118.726467,
            31.282121
        ],
        [
            118.756648,
            31.279564
        ],
        [
            118.794836,
            31.229426
        ],
        [
            118.870597,
            31.242219
        ],
        [
            118.984546,
            31.237102
        ],
        [
            119.014727,
            31.241707
        ],
        [
            119.10527,
            31.235055
        ],
        [
            119.107118,
            31.250917
        ],
        [
            119.158241,
            31.294907
        ],
        [
            119.197661,
            31.295418
        ],
        [
            119.198277,
            31.270357
        ],
        [
            119.266646,
            31.250405
        ],
        [
            119.294363,
            31.263195
        ],
        [
            119.338095,
            31.259103
        ],
        [
            119.350414,
            31.301043
        ],
        [
            119.374435,
            31.258591
        ],
        [
            119.360269,
            31.213049
        ],
        [
            119.391682,
            31.174142
        ],
        [
            119.439109,
            31.177214
        ],
        [
            119.461283,
            31.156219
        ],
        [
            119.532732,
            31.159291
        ],
        [
            119.599869,
            31.10909
        ],
        [
            119.623891,
            31.130096
        ],
        [
            119.649144,
            31.104991
        ],
        [
            119.629434,
            31.085517
        ],
        [
            119.633746,
            31.019379
        ],
        [
            119.580159,
            30.967051
        ],
        [
            119.582007,
            30.932149
        ],
        [
            119.563529,
            30.919315
        ],
        [
            119.557369,
            30.874124
        ],
        [
            119.575847,
            30.829939
        ],
        [
            119.55429,
            30.825828
        ],
        [
            119.527188,
            30.77905
        ],
        [
            119.479761,
            30.772365
        ],
        [
            119.482841,
            30.704467
        ],
        [
            119.444652,
            30.650422
        ],
        [
            119.408312,
            30.645274
        ],
        [
            119.39045,
            30.685941
        ],
        [
            119.343022,
            30.664322
        ],
        [
            119.323312,
            30.630341
        ],
        [
            119.238929,
            30.609225
        ],
        [
            119.265414,
            30.574709
        ],
        [
            119.237081,
            30.546881
        ],
        [
            119.272189,
            30.510281
        ],
        [
            119.326392,
            30.532964
        ],
        [
            119.336247,
            30.508734
        ],
        [
            119.335015,
            30.448389
        ],
        [
            119.36766,
            30.38491
        ],
        [
            119.402768,
            30.374584
        ],
        [
            119.349182,
            30.349281
        ],
        [
            119.326392,
            30.372002
        ],
        [
            119.277117,
            30.341018
        ],
        [
            119.246936,
            30.341018
        ],
        [
            119.236465,
            30.297106
        ],
        [
            119.201356,
            30.290905
        ],
        [
            119.126828,
            30.304856
        ],
        [
            119.091719,
            30.323972
        ],
        [
            119.06277,
            30.304856
        ],
        [
            118.988857,
            30.332237
        ],
        [
            118.954365,
            30.360126
        ],
        [
            118.880452,
            30.31519
        ],
        [
            118.877988,
            30.282637
        ],
        [
            118.905089,
            30.216464
        ],
        [
            118.929727,
            30.2025
        ],
        [
            118.852735,
            30.166805
        ],
        [
            118.852119,
            30.149729
        ],
        [
            118.895234,
            30.148694
        ],
        [
            118.873677,
            30.11505
        ],
        [
            118.878604,
            30.064822
        ],
        [
            118.902626,
            30.029078
        ],
        [
            118.894619,
            29.937845
        ],
        [
            118.838568,
            29.934733
        ],
        [
            118.841032,
            29.891159
        ],
        [
            118.740634,
            29.814859
        ],
        [
            118.744945,
            29.73902
        ],
        [
            118.700598,
            29.706277
        ],
        [
            118.647011,
            29.64336
        ],
        [
            118.61991,
            29.654282
        ],
        [
            118.573714,
            29.638159
        ],
        [
            118.532446,
            29.588731
        ],
        [
            118.500417,
            29.57572
        ],
        [
            118.496106,
            29.519492
        ],
        [
            118.381541,
            29.504909
        ],
        [
            118.347664,
            29.474174
        ],
        [
            118.329802,
            29.495012
        ],
        [
            118.306396,
            29.479384
        ],
        [
            118.316252,
            29.422581
        ],
        [
            118.248498,
            29.431443
        ],
        [
            118.193064,
            29.395472
        ],
        [
            118.136397,
            29.418932
        ],
        [
            118.127774,
            29.47209
        ],
        [
            118.143788,
            29.489803
        ],
        [
            118.095129,
            29.534072
        ],
        [
            118.050782,
            29.542924
        ],
        [
            118.042774,
            29.566351
        ],
        [
            118.00397,
            29.578322
        ],
        [
            117.933753,
            29.549172
        ],
        [
            117.872775,
            29.54761
        ],
        [
            117.795167,
            29.570515
        ],
        [
            117.729877,
            29.550213
        ],
        [
            117.690457,
            29.555939
        ],
        [
            117.678754,
            29.595496
        ],
        [
            117.647957,
            29.614749
        ],
        [
            117.608537,
            29.591333
        ],
        [
            117.543248,
            29.588731
        ],
        [
            117.523538,
            29.630356
        ],
        [
            117.530313,
            29.654282
        ],
        [
            117.490277,
            29.660003
        ],
        [
            117.453936,
            29.688082
        ],
        [
            117.455168,
            29.749412
        ],
        [
            117.408973,
            29.802396
        ],
        [
            117.415132,
            29.85068
        ],
        [
            117.382487,
            29.840818
        ],
        [
            117.359082,
            29.812782
        ],
        [
            117.338756,
            29.848085
        ],
        [
            117.29256,
            29.822647
        ],
        [
            117.25314,
            29.834588
        ],
        [
            117.261763,
            29.880781
        ],
        [
            117.246365,
            29.915023
        ],
        [
            117.2168,
            29.926953
        ],
        [
            117.171836,
            29.920729
        ],
        [
            117.129952,
            29.89946
        ],
        [
            117.127489,
            29.86158
        ],
        [
            117.073286,
            29.831992
        ],
        [
            117.123177,
            29.798761
        ],
        [
            117.136728,
            29.775388
        ],
        [
            117.108395,
            29.75201
        ],
        [
            117.112706,
            29.711995
        ],
        [
            117.041873,
            29.680803
        ],
        [
            116.996294,
            29.683403
        ],
        [
            116.974736,
            29.657403
        ],
        [
            116.939627,
            29.648561
        ],
        [
            116.873722,
            29.609546
        ],
        [
            116.849084,
            29.57624
        ],
        [
            116.780715,
            29.569994
        ],
        [
            116.760389,
            29.599139
        ],
        [
            116.721585,
            29.564789
        ],
        [
            116.716657,
            29.590813
        ],
        [
            116.651983,
            29.637118
        ],
        [
            116.680317,
            29.681323
        ],
        [
            116.704954,
            29.688602
        ],
        [
            116.706802,
            29.6964
        ],
        [
            116.70557,
            29.69692
        ],
        [
            116.698795,
            29.707836
        ],
        [
            116.673541,
            29.709916
        ],
        [
            116.762237,
            29.802396
        ],
        [
            116.780715,
            29.792529
        ],
        [
            116.882961,
            29.893753
        ],
        [
            116.900207,
            29.949253
        ],
        [
            116.868794,
            29.980361
        ],
        [
            116.83307,
            29.95755
        ],
        [
            116.830606,
            30.004723
        ],
        [
            116.802889,
            29.99643
        ],
        [
            116.783794,
            30.030632
        ],
        [
            116.747454,
            30.057053
        ],
        [
            116.720353,
            30.053945
        ],
        [
            116.666766,
            30.076734
        ],
        [
            116.620571,
            30.073109
        ],
        [
            116.585462,
            30.045657
        ],
        [
            116.552201,
            29.909836
        ],
        [
            116.525716,
            29.897385
        ],
        [
            116.467818,
            29.896347
        ],
        [
            116.342782,
            29.835626
        ],
        [
            116.280572,
            29.788893
        ],
        [
            116.250391,
            29.785777
        ],
        [
            116.227601,
            29.816936
        ],
        [
            116.172783,
            29.828358
        ],
        [
            116.13521,
            29.819532
        ],
        [
            116.128435,
            29.897904
        ],
        [
            116.073616,
            29.969993
        ],
        [
            116.091479,
            30.036331
        ],
        [
            116.078544,
            30.062233
        ],
        [
            116.088399,
            30.110391
        ],
        [
            116.055754,
            30.180774
        ],
        [
            116.065609,
            30.204569
        ],
        [
            115.997856,
            30.252657
        ],
        [
            115.985537,
            30.290905
        ],
        [
            115.903001,
            30.31364
        ],
        [
            115.91532,
            30.337919
        ],
        [
            115.885139,
            30.379747
        ],
        [
            115.921479,
            30.416397
        ],
        [
            115.894994,
            30.452517
        ],
        [
            115.910393,
            30.519046
        ],
        [
            115.887603,
            30.542758
        ],
        [
            115.876516,
            30.582438
        ],
        [
            115.848799,
            30.602014
        ],
        [
            115.819234,
            30.597893
        ],
        [
            115.81369,
            30.637035
        ],
        [
            115.762567,
            30.685426
        ],
        [
            115.782893,
            30.751795
        ],
        [
            115.851262,
            30.756938
        ],
        [
            115.863581,
            30.815549
        ],
        [
            115.848799,
            30.828397
        ],
        [
            115.865429,
            30.864364
        ],
        [
            115.932566,
            30.889532
        ],
        [
            115.976298,
            30.931636
        ],
        [
            116.03974,
            30.957813
        ],
        [
            116.071769,
            30.956787
        ],
        [
            116.058834,
            31.012711
        ],
        [
            116.015102,
            31.011685
        ],
        [
            116.006479,
            31.034764
        ],
        [
            115.938726,
            31.04707
        ],
        [
            115.939958,
            31.071678
        ],
        [
            115.887603,
            31.10909
        ],
        [
            115.867277,
            31.147512
        ],
        [
            115.837712,
            31.127022
        ],
        [
            115.797676,
            31.128047
        ],
        [
            115.778582,
            31.112164
        ],
        [
            115.700973,
            31.201276
        ],
        [
            115.655394,
            31.211002
        ],
        [
            115.603655,
            31.17363
        ],
        [
            115.585793,
            31.143926
        ],
        [
            115.540213,
            31.194621
        ],
        [
            115.539597,
            31.231985
        ],
        [
            115.507568,
            31.267799
        ],
        [
            115.473076,
            31.265242
        ],
        [
            115.443511,
            31.344498
        ],
        [
            115.40717,
            31.337854
        ],
        [
            115.372062,
            31.349098
        ],
        [
            115.393004,
            31.389977
        ],
        [
            115.373909,
            31.405813
        ],
        [
            115.389924,
            31.450241
        ],
        [
            115.371446,
            31.495668
        ],
        [
            115.415793,
            31.525771
        ],
        [
            115.439815,
            31.588496
        ],
        [
            115.485394,
            31.608885
        ],
        [
            115.476771,
            31.643028
        ],
        [
            115.495249,
            31.673083
        ],
        [
            115.534054,
            31.698545
        ],
        [
            115.553764,
            31.69549
        ],
        [
            115.676336,
            31.778453
        ],
        [
            115.731154,
            31.76726
        ],
        [
            115.767495,
            31.78761
        ],
        [
            115.808147,
            31.770313
        ],
        [
            115.808147,
            31.770313
        ],
        [
            115.851878,
            31.786593
        ],
        [
            115.886371,
            31.776418
        ],
        [
            115.914704,
            31.814567
        ],
        [
            115.893762,
            31.832365
        ],
        [
            115.894994,
            31.8649
        ],
        [
            115.920248,
            31.920285
        ],
        [
            115.909161,
            31.94314
        ],
        [
            115.928871,
            32.003046
        ],
        [
            115.922095,
            32.049725
        ],
        [
            115.941805,
            32.166318
        ],
        [
            115.912856,
            32.227596
        ],
        [
            115.899306,
            32.390971
        ],
        [
            115.865429,
            32.458662
        ],
        [
            115.883291,
            32.487946
        ],
        [
            115.845719,
            32.501575
        ],
        [
            115.8759,
            32.542448
        ],
        [
            115.910393,
            32.567165
        ],
        [
            115.891298,
            32.576243
        ],
        [
            115.861117,
            32.537403
        ],
        [
            115.789052,
            32.468761
        ],
        [
            115.771806,
            32.505108
        ],
        [
            115.742241,
            32.476335
        ],
        [
            115.704669,
            32.495013
        ],
        [
            115.667712,
            32.409667
        ],
        [
            115.657857,
            32.428864
        ],
        [
            115.626445,
            32.40512
        ],
        [
            115.604271,
            32.425833
        ],
        [
            115.57101,
            32.419266
        ],
        [
            115.522967,
            32.441997
        ],
        [
            115.509416,
            32.466741
        ],
        [
            115.510648,
            32.467751
        ],
        [
            115.510648,
            32.468256
        ],
        [
            115.510648,
            32.468761
        ],
        [
            115.5088,
            32.468761
        ],
        [
            115.497713,
            32.492489
        ],
        [
            115.409018,
            32.549007
        ],
        [
            115.411482,
            32.575235
        ],
        [
            115.304924,
            32.553042
        ],
        [
            115.30554,
            32.583303
        ],
        [
            115.267352,
            32.578261
        ],
        [
            115.24333,
            32.593388
        ],
        [
            115.20083,
            32.591876
        ],
        [
            115.182968,
            32.666973
        ],
        [
            115.179273,
            32.726402
        ],
        [
            115.189744,
            32.770695
        ],
        [
            115.211301,
            32.785791
        ],
        [
            115.189744,
            32.812452
        ],
        [
            115.197135,
            32.856201
        ],
        [
            115.155867,
            32.864747
        ],
        [
            115.139237,
            32.897917
        ],
        [
            115.029599,
            32.906962
        ],
        [
            115.035143,
            32.932582
        ],
        [
            115.009273,
            32.940117
        ],
        [
            114.943368,
            32.935094
        ],
        [
            114.916266,
            32.971251
        ],
        [
            114.883006,
            32.990328
        ],
        [
            114.891629,
            33.020441
        ],
        [
            114.925506,
            33.016928
        ],
        [
            114.913187,
            33.083143
        ],
        [
            114.897172,
            33.086653
        ],
        [
            114.902716,
            33.129764
        ],
        [
            114.932897,
            33.153817
        ],
        [
            114.966158,
            33.147304
        ],
        [
            114.990795,
            33.102195
        ],
        [
            115.041302,
            33.086653
        ],
        [
            115.168186,
            33.088658
        ],
        [
            115.194671,
            33.120743
        ],
        [
            115.245178,
            33.135778
        ],
        [
            115.289526,
            33.131769
        ],
        [
            115.303692,
            33.149809
        ],
        [
            115.300613,
            33.204407
        ],
        [
            115.340033,
            33.260973
        ],
        [
            115.335105,
            33.297997
        ],
        [
            115.361591,
            33.298497
        ],
        [
            115.365286,
            33.336005
        ],
        [
            115.341881,
            33.370997
        ],
        [
            115.313547,
            33.376994
        ],
        [
            115.328946,
            33.403477
        ],
        [
            115.316627,
            33.44893
        ],
        [
            115.345576,
            33.449928
        ],
        [
            115.345576,
            33.502842
        ],
        [
            115.366518,
            33.5233
        ],
        [
            115.394851,
            33.506335
        ],
        [
            115.422569,
            33.557219
        ],
        [
            115.463837,
            33.567193
        ],
        [
            115.561771,
            33.563703
        ],
        [
            115.564851,
            33.576169
        ],
        [
            115.639995,
            33.585143
        ],
        [
            115.601191,
            33.658898
        ],
        [
            115.601807,
            33.718653
        ],
        [
            115.563003,
            33.772895
        ],
        [
            115.576553,
            33.787817
        ],
        [
            115.614126,
            33.775879
        ],
        [
            115.631988,
            33.869846
        ],
        [
            115.547604,
            33.874815
        ],
        [
            115.577785,
            33.950307
        ],
        [
            115.579017,
            33.974133
        ],
        [
            115.60735,
            34.030196
        ],
        [
            115.642459,
            34.03218
        ],
        [
            115.658473,
            34.061437
        ],
        [
            115.705901,
            34.059949
        ],
        [
            115.736082,
            34.076805
        ],
        [
            115.809378,
            34.062428
        ],
        [
            115.846335,
            34.028708
        ],
        [
            115.852494,
            34.003906
        ],
        [
            115.877132,
            34.002913
        ],
        [
            115.876516,
            34.028708
        ],
        [
            115.904233,
            34.009859
        ],
        [
            115.95782,
            34.007875
        ],
        [
            116.00032,
            33.965199
        ],
        [
            115.982457,
            33.917039
        ],
        [
            116.05945,
            33.860902
        ],
        [
            116.055754,
            33.804727
        ],
        [
            116.074232,
            33.781351
        ],
        [
            116.100102,
            33.782843
        ],
        [
            116.132747,
            33.751501
        ],
        [
            116.155536,
            33.709693
        ],
        [
            116.2005,
            33.72612
        ],
        [
            116.263326,
            33.730101
        ],
        [
            116.316912,
            33.771402
        ],
        [
            116.393905,
            33.782843
        ],
        [
            116.408071,
            33.805721
        ],
        [
            116.437021,
            33.801246
        ],
        [
            116.437637,
            33.846489
        ],
        [
            116.486296,
            33.869846
        ],
        [
            116.558361,
            33.881274
        ],
        [
            116.566984,
            33.9081
        ],
        [
            116.631042,
            33.887733
        ],
        [
            116.64336,
            33.896675
        ],
        [
            116.641512,
            33.978103
        ],
        [
            116.599629,
            34.014324
        ]
    ]
    testdata = [[0,0],[1,3],[2,2],[3,4],[4,5],[5,5]]
    aa = [
    [
        111.79456,
        3.40847
    ],
    [
        111.85774,
        3.42201
    ],
    [
        111.92318,
        3.43781
    ],
    [
        111.98721,
        3.45419
    ],
    [
        112.0586,
        3.47166
    ],
    [
        112.106,
        3.48295
    ],
    [
        112.16015,
        3.49649
    ],
    [
        112.23462,
        3.51003
    ],
    [
        112.29782,
        3.52582
    ],
    [
        112.36102,
        3.54614
    ],
    [
        112.4242,
        3.56419
    ],
    [
        112.49191,
        3.5845
    ],
    [
        112.54585,
        3.60459
    ],
    [
        112.58669,
        3.62061
    ],
    [
        112.63182,
        3.63866
    ],
    [
        112.68147,
        3.66123
    ],
    [
        112.72209,
        3.68154
    ],
    [
        112.76796,
        3.70334
    ],
    [
        112.81729,
        3.72696
    ],
    [
        112.84947,
        3.74495
    ]
]

    print(RDP(aa, 0))
    print(len(RDP(aa, 0)))
